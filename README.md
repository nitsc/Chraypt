# Chraypt: 中国大陆特供版

![Chraypt](https://github.com/user-attachments/assets/da9b0294-479e-4814-a377-a934ef4ee8b6)

Chraypt 是一个以保障人权为核心理念的命令行通讯软件，专注于信息安全与隐私保护。目前已实现哈希验证身份和多算法加密通信等功能，为用户提供可靠的隐私保障。

> **特别说明**：该版本为中国大陆特供版，不含 Tor 功能集成。国际版请参见 [Chrayptor](https://github.com/nitsc/chrayptor)。

---

## 开发宗旨

### 核心理念
我们坚信每个人都有自己的人权。

### 程序开发原则
- **人权至上**：开发者必须坚持人权至上的原理。
- **零数据收集**：禁止收集 Chraypt 用户的一切信息。
- **P2P 和 E2E 特性**：坚持去中心化和端到端加密特性。
- **安全与隐私**：高度关注用户的安全性和隐私性。
- **开源透明**：支持高度开源和自由修改源代码。
- **简洁实用**：不搞花里胡哨，减少攻击面。
- **最小权限原则**：不打印不必要的信息，不获取不必要的权限。

---

## 当前问题

### 1. 哈希完整性校验问题
- 在 `receive_message` 函数内，未使用 Argon2 的 `verify` 函数，而是简单地使用 `==` 进行比较。
- `crypt.py` 文件中 `Hasher` 类的 `ba33` 函数使用 Argon2 哈希 BLAKE3 的结果，这种做法不必要。建议直接使用 Argon2。

### 2. 端口跃迁技术集成
- 端口跃迁技术尚未完全融合到程序中，目前无法正常使用交换端口接收数据，相关问题正在解决中。

---

## 目标标准

### 编程语言
- **Rust**：在 Python 原型开发完成后，使用 Rust 重写 Chraypt。
- **Python**：可能会保留部分 Python 实现。
- **Go**：可能用于 Chraypt 的网络并发关键部分。

### 加密算法

#### 对称加密
- **AES**：高级加密标准，广泛应用于通信协议（如 TLS）。**(已实现)**
- **ChaCha20**：高效安全的流密码，通常与 Poly1305 消息认证码结合使用。
- **SM4**：中国商用密码算法，广泛应用于金融和政府部门。**(已实现)**

#### 非对称加密
- **ECC**：椭圆曲线密码学，比 RSA 更高效，适合移动设备。**(已实现)**
- **NTRU**：基于格的公钥密码算法。
- **Lattice-based Cryptography**：基于格的密码学，后量子密码学方法。

#### 密钥交换
- **ECDH**：椭圆曲线 Diffie-Hellman，更高效的密钥交换。**(已实现)**
- **Kyber**：基于格的后量子加密标准候选方案。
- **Curve25519**：高效安全的椭圆曲线加密协议。**(已实现)**

#### 数字签名
- **EdDSA**：基于 Edwards 曲线的数字签名算法。**(已实现)**
- **ECDSA**：广泛使用的椭圆曲线数字签名算法。

#### 哈希算法
- **SHA3-512**、**SHA2-512**：用于数据完整性校验。**(已实现)**
- **Argon2**：抗硬件加速暴力破解的密码哈希算法。**(已实现)**
- **BLAKE3**：高性能现代哈希算法。**(已实现)**

#### 随机数生成
- **CSPRNG**：密码学安全伪随机数生成器。**(已实现)**

#### 通信协议
- **TLS**：传输层安全协议，实现加密传输和身份验证。**(已实现)**

#### 零知识证明
- **zk-SNARKs**、**zk-STARKs**：未来计划实现。

---

## 端口跃迁技术

### 概览
**端口跃迁** 技术是自主研发的一项安全通信技术，主要步骤如下：

1. 服务端监听 `52000` 端口。
2. 客户端连接 `52000` 端口。
3. 服务端生成随机的 "交换端口号"，并在 `52000` 端口上传输该端口号。
4. 客户端连接 "交换端口"，并在该端口交换密钥。
5. 服务端和客户端使用交换的密钥计算对应公钥。
6. 服务端生成随机的 "匿名端口号"（端口跃迁点），并在 "交换端口" 上加密传输该端口号。
7. 客户端连接 "端口跃迁点"，并在此端口进行加密通信。
8. 每 5 分钟后，服务端重置密钥并重新跃迁端口。
9. 服务端生成新的随机 "交换端口号"，并在 `52000` 端口上使用旧密钥加密传输该端口号。
10. 重复步骤 4~7。

### 技术优势 🌟

1. **增强安全性**：
   - 随机生成的端口和动态密钥更新减少固定端口带来的安全风险。
   - 有效对抗流量监测和分析。

2. **抗中间人攻击**：
   - 初始握手后通过加密传输动态端口号，降低通信劫持的可能性。

3. **动态性强**：
   - 端口定期重置，难以预测通信路径，提高隐蔽性。

4. **适应复杂网络环境**：
   - 适用于高安全性需求的场景，例如绕过审查或抗流量分析。

5. **灵活密钥管理**：
   - 定期生成新密钥，降低长时间通信的密钥泄露风险。

### 技术缺陷 ⚠️

1. **复杂性增加**：
   - 多次端口跳转和密钥更新增加设计和实现难度。

2. **性能开销**：
   - 频繁的端口重新连接和密钥交换可能导致延迟增加。

3. **连接中断风险**：
   - 跃迁过程中如果发生错误，可能导致通信断开。

4. **兼容性问题**：
   - 某些防火墙或 NAT 设备可能会限制动态端口通信。

5. **管理成本高**：
   - 高并发场景下的端口和资源调度可能复杂化。

6. **初始端口暴露风险**：
   - 固定监听 `52000` 端口可能成为被攻击的薄弱点。

---

## 结语

Chraypt 致力于打造一款安全、可靠、隐私至上的通讯工具，同时通过不断优化创新技术（如端口跃迁）提升用户隐私保护能力。未来将继续完善功能，进一步加强人权保障！

